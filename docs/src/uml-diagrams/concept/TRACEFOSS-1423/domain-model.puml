@startuml

title: Domain Model


abstract Asset {
        *   id : String
        owner : Owner
        activeAlert: boolean
        qualityType : QualityType
        underInvestigation : boolean
        semanticDataModelType : SemanticDataModelType
        childRelations : List<Relation>
        parentRelations : List<Relation>

        idShort : String
        van : String
}

note left
    Rename Descriptions to Relations
end note

class Relation {
       *   id : String
       idShort : String
}

enum SemanticDataModelType {
    BATCH,
    SERIALPART,
    JUSTINSEQUENCEPART,
    TRACTIONBATTERYCODE,
    PARTASPLANNED,
    PARTSITEINFORMATIONASPLANNED
}


class AsBuiltAspectModel {
    partId : String /' BatchID ,  jisNumber , partInstanceID'/

    manufacturerPartId : String /' partTypeInformation.manufacturerPartId '/
    nameAtManufacturer : String /' partTypeInformation.nameAtManufacturer '/
    classification : String /' partTypeInformation.classification '/
    businessPartner : String /' BusinessPartner '/

    customerPartId : String
    nameAtCustomer : String
    manufacturingCountry : String (iso-3)
    manufacturingDate : Instant

    tractionBatteryCode : TractionBatteryCode

}

note left
    partId covers SerialPart.partInstanceID, Batch.BatchID, JustInSequencePart.jisNumber
end note

class TractionBatteryCode {
    * uuid4 : String /' UUID ID '/
    productType: String
    tractionBatteryCode: String
    subComponents : List<TractionBatteryCode>
}

class PartAsPlanned {
    manufacturerPartId : String /' partTypeInformation.manufacturerPartId '/
    nameAtManufacturer : String /' partTypeInformation.nameAtManufacturer '/
    classification : String /' partTypeInformation.classification '/
    businessPartner : String /' BusinessPartner '/
/'
    1.0.0
'/
    validityPeriodFrom : Instance
    validityPeriodTo: Instance

    partSiteInformationAsPlanned : PartSiteInformationAsPlanned
}

class PartSiteInformationAsPlanned {
/'
    1.0.0
    Currently this is not ready for implementing - there is no specification right now.
'/
    functionValidFrom : Instance
    functionValidUntil : Instance

}


SemanticDataModelType <-- Asset
Asset <|.. AsBuiltAspectModel
Asset <|.. PartAsPlanned

Asset }o-- Relation : childRelations
Asset }o--  Relation : parentRelations

AsBuiltAspectModel  -- TractionBatteryCode

PartAsPlanned   --  PartSiteInformationAsPlanned
@enduml
